<!DOCTYPE html>
	<html xmlns="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6" >
	<head>
		<meta charset="UTF-8">
		<title>Ch12::Index</title>
	</head>
	<body>
		<h3>Ch12.OAuth2</h3>
		
		<p sec:authorize="isAnonymous()">
		<a th:href="@{/user/login}">로그인 실습하기</a>	
		</p>

		<p sec:authorize="isAuthenticated()" >
			<span th:with="userId=${#authentication.principal.uid}" > 아이디 : [[${#authentication.principal.uid}]] </span><br>
			<span> 이름 : [[${#authentication.principal.name}]] </span><br>
			<span> 닉네임 : [[${#authentication.principal.nickname}]] </span><br>
			<span> 엑세스 토큰 : [[${#accessToken}]] </span><br>
			<span sec:authentication="principal.role" ></span><br>
			<span sec:authentication="principal.regDate" ></span>
			
		</p>

		<p sec:authorize="isAuthenticated()">
			<a th:href="@{/user/logout(id=${userId})}">로그아웃</a>
		</p>
	</body>
</html>